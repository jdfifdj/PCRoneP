<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>公主连结Re:Dive攻略站</title>
  <script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.14/vue.min.js"></script>
  <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
  <link rel="stylesheet" href="./css/index.css">
  <link rel="stylesheet" href="./css/html.css">
  <link rel="stylesheet" href="./css/ghz.css">
  <link rel="icon" href="./图标/水吃.png" type="image/png">
  <style>
    /* 移除侧边栏后的样式调整 */
    .app-container {
      flex-direction: column;
    }
    .main-content {
      max-width: 100vw;
      width: 100%;
      padding: 20px;
    }
    .section-tabs {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    .section-tab {
      background-color: #ff9a9e;
      color: white;
      padding: 10px 20px;
      margin: 5px;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      transition: all 0.3s ease;
    }
    .section-tab.active {
      background-color: #e74c3c;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    /* 整合一图流和工会战样式 */
    #onep-section .card, #ghz-section .card {
      margin-bottom: 20px;
    }
    #onep-section .img-container, #ghz-section .img-container {
      margin: 15px 0;
    }
    @media (max-width: 768px) {
      .section-tab {
        padding: 8px 15px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <div id="app" class="app-container">
    <div class="main-content expanded">
      <div class="header">
        <h1>公主连结Re:Dive攻略站</h1>
        <p>最新活动、一图流和工会战攻略</p>
      </div>

      <!-- 内容切换标签 -->
      <div class="section-tabs">
        <button class="section-tab active" @click="showSection('home')">首页</button>
        <button class="section-tab" onclick="window.location.href='PCRoneP.html'">一图流</button>
        <button class="section-tab" onclick="window.location.href='PCRoneGHZ.html'">工会战set刀</button>
      </div>
      
      <!-- 首页内容 -->
      <div id="home-section" class="tab-content active">
        <div class="section">
          <h2>推荐B站UP主</h2>
        <div class="up-groups">
          <div class="up-group">
            <h3>游戏攻略组</h3>
            <div class="up-list">
              <div class="up-card" v-for="up in upGroups['攻略组']" :key="up.name">
                <div class="up-avatar">
                  <img :src="up.avatar" :alt="up.name + '的头像'">
                </div>
                <div class="up-name">{{ up.name }}</div>
                <div class="up-desc">{{ up.desc }}</div>
                <a :href="up.url" target="_blank" class="btn">
                  <i class="fa fa-external-link"></i> 查看主页
                </a>
              </div>
            </div>
          </div>
          
          <div class="up-group">
            <h3>萌新推荐</h3>
            <div class="up-list">
              <div class="up-card" v-for="up in upGroups['萌新组']" :key="up.name">
                <div class="up-avatar">
                  <img :src="up.avatar" :alt="up.name + '的头像'">
                </div>
                <div class="up-name">{{ up.name }}</div>
                <div class="up-desc">{{ up.desc }}</div>
                <a :href="up.url" target="_blank" class="btn">
                  <i class="fa fa-external-link"></i> 查看主页
                </a>
              </div>
            </div>
          </div>
          
          <div class="up-group">
            <h3>竞技场推荐</h3>
            <div class="up-list">
              <div class="up-card" v-for="up in upGroups['竞技场组']" :key="up.name">
                <div class="up-avatar">
                  <img :src="up.avatar" :alt="up.name + '的头像'">
                </div>
                <div class="up-name">{{ up.name }}</div>
                <div class="up-desc">{{ up.desc }}</div>
                <a :href="up.url" target="_blank" class="btn">
                  <i class="fa fa-external-link"></i> 查看主页
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
        </div>

        <div class="section">
          <h2>最新介绍</h2>
        <div class="article-list">
          <div class="article-card" v-for="article in articles" :key="article.id">
            <div class="article-thumb">
              <img :src="article.thumb" :alt="article.title">
            </div>
            <div class="article-content">
              <div class="article-title">{{ article.title }}</div>
              <div class="article-meta">
                <span>{{ article.date }}</span>
                <span>{{ article.author }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
        </div>
      </div>

      <!-- 一图流内容 -->
      <div id="onep-section" class="tab-content">
        <div class="section">
          <h1>公主连结8月一图流</h1>
          <!-- 背景图片 -->
          <div class="img-container">
            <img src="background-image.png" alt="七月活动" class="img-preview">
          </div>
          <!-- 表格数据 -->

          <div class="card">
            <table>
              <tr>
                <th colspan="4" style="background-color: red;">
                  <h2 style="color: yellow;">基本信息</h2>
                </th>
              </tr>
              <tr>
                <th>
                  <div class="section-title">表格更新时间</div>
                </th>
                <th>2025年8月7日</th>
                <th>
                  <div class="section-title">图片生成时间</div>
                </th>
                <th>
                  <div>{{ currentTime }}</div>
                </th>
              </tr>
              <tr>
                <th>等级上限</th>
                <th>292级</th>
                <th>专武上限</th>
                <th>300级</th>
              </tr>
              <tr>
                <th>装备上限</th>
                <th>品级 31</th>
                <th>最低装备</th>
                <th>品级 30</th>
              </tr>
            </table>
          </div>

          <!-- 动态活动表格 -->
          <div class="card">
            <h2 style="background-color: red; color: yellow; padding: 10px; text-align: center; border-radius: 5px;">重要活动</h2>
            <div class="activity-list">
              <div v-for="(category, categoryKey) in groupedActivities" :key="categoryKey" class="activity-category">
                <h3 style="background-color: orange; color: white; padding: 5px; border-radius: 3px;">{{ categoryNames[categoryKey] || '其他' }}</h3>
                <div v-for="(activity, index) in category" :key="index" class="activity-item">
                  <div class="activity-icon">
                    <!-- 这里可以添加活动图标 -->
                    <img v-if="activity.icon" :src="activity.icon" alt="活动图标" class="activity-icon-img">
                  </div>
                  <div class="activity-content">
                    <h4>{{ activity.name }}</h4>
                    <div class="activity-time">
                      {{ formatDate(activity.start) }} - {{ formatDate(activity.end) }}
                    </div>
                    <div class="activity-countdown" :class="getCountdownText(activity).class">
                      {{ getCountdownText(activity).text }}
                    </div>
                  </div>
                </div>
                <!-- 分类间隔 -->
                <div class="category-separator"></div>
              </div>
            </div>
          </div>

          <!-- 修改卡池表格表头 -->
          <div class="card">
            <table>
              <tr>
                <th colspan="3" style="background-color: red;"> <!-- 修改colspan为3 -->
                  <h2 style="color: yellow;">卡池抽取</h2>
                </th>
              </tr>
              <tr>
                <th>卡池名称</th>
                <th>当前状态</th> <!-- 新增状态列 -->
                <th>抽取建议</th>
              </tr>
              <!-- 为卡池添加时间控制 -->
              <tr v-for="(pool, index) in gachaPools" :key="`gacha-${index}`" v-show="pool.shouldShow">
                <td>
                  <div class="img-container">
                    <img :src="pool.image" :alt="pool.name" class="img-preview">
                  </div>
                  <div class="activity-time">
                    {{ formatDate(pool.start) }} - {{ formatDate(pool.end) }}
                  </div>
                  <div class="activity-countdown" :class="getCountdownText(pool).class">
                    {{ getCountdownText(pool).text }}
                  </div>
                </td>
                <!-- 新增状态单元格 -->
                <td :class="'status-' + pool.status">{{ pool.statusText }}</td>
                <th v-html="highlightText(pool.advice)"></th>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <!-- 工会战set刀内容 -->
      <div id="ghz-section" class="tab-content">
        <div class="section">
          <h1 class="title">公主连结6月简单set刀推荐</h1>
          <h2 class="title">点击图片可以放大</h2>
          <div class="tab-container">
            <button class="tab" v-for="(tab, index) in ghzTabs" :key="index" @click="activeGhzTab = index">
              {{ tab }}
            </button>
          </div>

          <div class="content">
            <div v-if="activeGhzTab === 0" class="image-grid">
              <div class="image-item" v-for="(img, imgIndex) in d1Images" :key="imgIndex" @click="showModal(img)">
                <img :src="img" alt="D1 图片">
              </div>
            </div>
            <div v-if="activeGhzTab === 1" class="image-grid">
              <div class="image-item" v-for="(img, imgIndex) in d2Images" :key="imgIndex" @click="showModal(img)">
                <img :src="img" alt="D2 图片">
              </div>
            </div>
            <div v-if="activeGhzTab === 2" class="image-grid">
              <div class="image-item" v-for="(img, imgIndex) in d3Images" :key="imgIndex" @click="showModal(img)">
                <img :src="img" alt="D3 图片">
              </div>
            </div>
            <div v-if="activeGhzTab === 3" class="image-grid">
              <div class="image-item" v-for="(img, imgIndex) in d4Images" :key="imgIndex" @click="showModal(img)">
                <img :src="img" alt="D4 图片">
              </div>
            </div>
            <div v-if="activeGhzTab === 4" class="image-grid">
              <div class="image-item" v-for="(img, imgIndex) in d5Images" :key="imgIndex" @click="showModal(img)">
                <img :src="img" alt="D5 图片">
              </div>
            </div>
            <div v-if="activeGhzTab === 5" class="image-grid">
              <div class="image-item" v-for="(img, imgIndex) in d6Images" :key="imgIndex" @click="showModal(img)">
                <img :src="img" alt="D6 图片">
              </div>
              <div class="image-item">
                <a href="https://www.bilibili.com/video/BV1uRuSzwEbf">
                  <img src="./工会战/玩具喵.jpg" alt="玩具喵作业链接">
                  </a>
              </div>
              <div class="image-item">
                <a href="https://www.bilibili.com/video/BV19Z8Mz6EP5">
                  <img src="./工会战/花舞.jpg" alt="花舞组作业链接">
                  </a>
              </div>
            </div>
          </div>

          <!-- 放大图片的弹窗 -->
          <div class="modal" :class="{ active: showBigImg }">
            <img :src="bigImgSrc" alt="放大图片">
            <button class="close-btn" @click="closeModal">×</button>
          </div>
        </div>
      </div>

      <!-- 活动攻略内容 -->
      <div id="events-section" class="tab-content">
        <div class="section">
          <h2>活动攻略</h2>
          <p>这里将展示公主连结各类活动的详细攻略，包括活动机制、奖励获取、阵容推荐等内容。</p>
          <p>敬请期待更多内容更新！</p>
        </div>
      </div>

      <!-- 官方资讯内容 -->
      <div id="news-section" class="tab-content">
        <div class="section">
          <h2>官方资讯</h2>
        <p>这里将展示公主连结所有角色的详细攻略，包括角色定位、技能分析、培养建议等内容。</p>
        <p>敬请期待更多内容更新！</p>
      </div>
      
        </div>
      </div>
        <p>这里将展示公主连结各种场景的阵容搭配，包括推图阵容、公会战阵容、竞技场阵容等内容。</p>
        <p>敬请期待更多内容更新！</p>
      </div>
      
      <div class="section" v-if="currentTab === 'events'">
        <h2>活动攻略</h2>
        <p>这里将展示公主连结各类活动的详细攻略，包括活动机制、奖励获取、阵容推荐等内容。</p>
        <p>敬请期待更多内容更新！</p>
      </div>
      
      <div class="footer">
        <p>公主连结Re:Dive攻略站 &copy; 2025</p>
        <p>本网站内容仅供参考，具体以游戏实际更新为准</p>
      </div>
    </div>
  </div>
  <script src="./index-config.js?v=1"></script>
  <script>
    // 检测是否为移动设备
    let isMobile = window.innerWidth <= 768;
    
    // 根据设备类型设置侧边栏初始状态
    INDEXconfigData.sidebarCollapsed = !isMobile;
    
    new Vue({
      el: '#app',
      data: INDEXconfigData,
      methods: {
        toggleSidebar() {
          this.sidebarCollapsed = !this.sidebarCollapsed;
          // 确保在移动端侧边栏展开时内容可见
          if (!this.sidebarCollapsed && isMobile) {
            this.$nextTick(() => {
              const sidebar = document.querySelector('.sidebar');
              if (sidebar) {
                sidebar.style.width = '100%';
                sidebar.style.padding = '10px';
              }
            });
          }
        },
        changeTab(tabName) {
          this.currentTab = tabName;
          // 更新菜单项状态
          const menuItems = document.querySelectorAll('.menu-item');
          menuItems.forEach(item => {
            item.classList.remove('active');
          });
          if (event && event.currentTarget) {
            event.currentTarget.classList.add('active');
          }
        }
      },
      // 监听窗口大小变化
      mounted() {
        const self = this;
        // 监听窗口大小变化
        window.addEventListener('resize', function() {
          const newIsMobile = window.innerWidth <= 768;
          if (newIsMobile !== isMobile) {
            isMobile = newIsMobile;
            self.sidebarCollapsed = !isMobile; // 切换设备类型时自动调整侧边栏状态
          }
        });
      }
    });
  </script>
</body>
</html>
    